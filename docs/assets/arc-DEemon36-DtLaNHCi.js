import{C as sn,q as E}from"./path-H8vhG2aR-T6_P2E4R.js";import{v as rn,y as S,O as q,B as an,H as l,q as un,r as k,X as D,Y as cn,_ as y,a0 as on,a1 as yn,a2 as en}from"./step-CFLd_UlD-CAA9ZoWn.js";function fn(s){return s.innerRadius}function ln(s){return s.outerRadius}function mn(s){return s.startAngle}function pn(s){return s.endAngle}function gn(s){return s&&s.padAngle}function xn(s,v,O,X,d,A,W,r){var K=O-s,i=X-v,n=W-d,p=r-A,a=p*K-n*i;if(!(a*a<l))return a=(n*(v-A)-p*(s-d))/a,[s+a*K,v+a*i]}function Z(s,v,O,X,d,A,W){var r=s-O,K=v-X,i=(W?A:-A)/k(r*r+K*K),n=i*K,p=-i*r,a=s+n,o=v+p,e=O+n,f=X+p,H=(a+e)/2,u=(o+f)/2,g=e-a,m=f-o,T=g*g+m*m,I=d-A,R=a*f-e*o,P=(m<0?-1:1)*k(en(0,I*I*T-R*R)),_=(R*m-g*P)/T,$=(-R*g-m*P)/T,Y=(R*m+g*P)/T,x=(-R*g+m*P)/T,h=_-H,t=$-u,c=Y-H,Q=x-u;return h*h+t*t>c*c+Q*Q&&(_=Y,$=x),{cx:_,cy:$,x01:-n,y01:-p,x11:_*(d/I-1),y11:$*(d/I-1)}}function dn(){var s=fn,v=ln,O=E(0),X=null,d=mn,A=pn,W=gn,r=null,K=sn(i);function i(){var n,p,a=+s.apply(this,arguments),o=+v.apply(this,arguments),e=d.apply(this,arguments)-an,f=A.apply(this,arguments)-an,H=cn(f-e),u=f>e;if(r||(r=n=K()),o<a&&(p=o,o=a,a=p),!(o>l))r.moveTo(0,0);else if(H>un-l)r.moveTo(o*S(e),o*q(e)),r.arc(0,0,o,e,f,!u),a>l&&(r.moveTo(a*S(f),a*q(f)),r.arc(0,0,a,f,e,u));else{var g=e,m=f,T=e,I=f,R=H,P=H,_=W.apply(this,arguments)/2,$=_>l&&(X?+X.apply(this,arguments):k(a*a+o*o)),Y=D(cn(o-a)/2,+O.apply(this,arguments)),x=Y,h=Y,t,c;if($>l){var Q=on($/a*q(_)),C=on($/o*q(_));(R-=Q*2)>l?(Q*=u?1:-1,T+=Q,I-=Q):(R=0,T=I=(e+f)/2),(P-=C*2)>l?(C*=u?1:-1,g+=C,m-=C):(P=0,g=m=(e+f)/2)}var V=o*S(g),b=o*q(g),L=a*S(I),M=a*q(I);if(Y>l){var N=o*S(m),U=o*q(m),F=a*S(T),G=a*q(T),B;if(H<rn)if(B=xn(V,b,F,G,N,U,L,M)){var J=V-B[0],j=b-B[1],w=N-B[0],z=U-B[1],nn=1/q(yn((J*w+j*z)/(k(J*J+j*j)*k(w*w+z*z)))/2),tn=k(B[0]*B[0]+B[1]*B[1]);x=D(Y,(a-tn)/(nn-1)),h=D(Y,(o-tn)/(nn+1))}else x=h=0}P>l?h>l?(t=Z(F,G,V,b,o,h,u),c=Z(N,U,L,M,o,h,u),r.moveTo(t.cx+t.x01,t.cy+t.y01),h<Y?r.arc(t.cx,t.cy,h,y(t.y01,t.x01),y(c.y01,c.x01),!u):(r.arc(t.cx,t.cy,h,y(t.y01,t.x01),y(t.y11,t.x11),!u),r.arc(0,0,o,y(t.cy+t.y11,t.cx+t.x11),y(c.cy+c.y11,c.cx+c.x11),!u),r.arc(c.cx,c.cy,h,y(c.y11,c.x11),y(c.y01,c.x01),!u))):(r.moveTo(V,b),r.arc(0,0,o,g,m,!u)):r.moveTo(V,b),!(a>l)||!(R>l)?r.lineTo(L,M):x>l?(t=Z(L,M,N,U,a,-x,u),c=Z(V,b,F,G,a,-x,u),r.lineTo(t.cx+t.x01,t.cy+t.y01),x<Y?r.arc(t.cx,t.cy,x,y(t.y01,t.x01),y(c.y01,c.x01),!u):(r.arc(t.cx,t.cy,x,y(t.y01,t.x01),y(t.y11,t.x11),!u),r.arc(0,0,a,y(t.cy+t.y11,t.cx+t.x11),y(c.cy+c.y11,c.cx+c.x11),u),r.arc(c.cx,c.cy,x,y(c.y11,c.x11),y(c.y01,c.x01),!u))):r.arc(0,0,a,I,T,u)}if(r.closePath(),n)return r=null,n+""||null}return i.centroid=function(){var n=(+s.apply(this,arguments)+ +v.apply(this,arguments))/2,p=(+d.apply(this,arguments)+ +A.apply(this,arguments))/2-rn/2;return[S(p)*n,q(p)*n]},i.innerRadius=function(n){return arguments.length?(s=typeof n=="function"?n:E(+n),i):s},i.outerRadius=function(n){return arguments.length?(v=typeof n=="function"?n:E(+n),i):v},i.cornerRadius=function(n){return arguments.length?(O=typeof n=="function"?n:E(+n),i):O},i.padRadius=function(n){return arguments.length?(X=n==null?null:typeof n=="function"?n:E(+n),i):X},i.startAngle=function(n){return arguments.length?(d=typeof n=="function"?n:E(+n),i):d},i.endAngle=function(n){return arguments.length?(A=typeof n=="function"?n:E(+n),i):A},i.padAngle=function(n){return arguments.length?(W=typeof n=="function"?n:E(+n),i):W},i.context=function(n){return arguments.length?(r=n??null,i):r},i}export{dn as v};
